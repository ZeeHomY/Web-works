<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="jquery.js" charset="utf-8"></script>
    <script type="text/javascript">

      let p1 = new Promise(function (resolve, reject) {  //解决， 拒绝

        $.ajax({
          url: 'data/1.txt',
          dataType: 'json',
          success (res) {
            resolve(res);     //
          },error (err) {
            reject(err);      //
          }
        });

      });

      let p2 = new Promise(function (resolve, reject) {  //解决， 拒绝

        $.ajax({
          url: 'data/2.txt',
          dataType: 'json',
          success (res) {
            resolve(res);
          },error (err) {
            reject(err);
          }
        });

      });

      let p3 = new Promise(function (resolve, reject) {  //解决， 拒绝

        $.ajax({
          url: 'data/3.txt',
          dataType: 'json',
          success (res) {
            resolve(res);
          },error (err) {
            reject(err);
          }
        });

      });

      p1.then(res => {
        alert('chenggong' + res);
      }, err => {
        alert('shibaile');
      });

      Promise.all([p1, p2, p3]).then(res_arr => {    // 全成功后then
        console.log(res_arr);    // 结果数组

        let [r1, r2, r3] = res_arr;      // 结构赋值

        console.log(r1, r2, r3);

      }, err => {
        alert('ceuole');
      });
    </script>
  </head>
  <body>

  </body>
</html>
